# set tmux prefix
unbind C-b
set -g prefix C-Space
bind C-Space last-window

# base-1 indexing
set -g base-index 1
setw -g pane-base-index 1

# status bar
set -g status on
set-option -g status-position top

# auto window rename
set-window-option -g automatic-rename

# fix vim focus issues
set -g focus-events off

# upgrade $TERM
set -g default-terminal 'xterm-256color'
set -g terminal-overrides ',xterm-256color:Tc'

# escape time
set -s escape-time 0

# increase scrollback buffer size
set -g history-limit 50000

# vi keybindings
set-window-option -g mode-keys vi
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'V' send -X select-line
bind-key -T copy-mode-vi 'r' send -X rectangle-toggle
bind-key -T copy-mode-vi 'y' send -X copy-pipe-and-cancel 'xsel -b'

# bind reload
bind r source-file ~/.tmux.conf \; display-message 'Config reloaded.'

# bind clear screen
bind C-l send-keys 'C-l'

# new window binding
bind 'c' new-window -c '#{pane_current_path}'
bind 'h' new-window -c '~'

# bind kill pane
bind -n C-x confirm kill-pane

# pane split bindings
bind '|' split-window -h -c '#{pane_current_path}'
bind '_' split-window -v -c '#{pane_current_path}'

# pane resizing bindings
bind -r 'H' resize-pane -L 2
bind -r 'J' resize-pane -D 2
bind -r 'K' resize-pane -U 2
bind -r 'L' resize-pane -R 2

# tpm
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'odedlaz/tmux-onedark-theme'

run '~/.tmux/plugins/tpm/tpm'

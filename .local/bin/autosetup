#!/bin/bash -v

# home
cd ~

# package manager
install="apt install -y"

# git
sudo $install git

git init
git remote add origin https://github.com/devinalvaro/home
git fetch
git checkout -t origin/master

# build
sudo $install autoconf
sudo $install automake
sudo $install cmake
sudo $install pkg-config

# libs
sudo $install libevent-dev
sudo $install libncurses5-dev
sudo $install libncursesw5-dev
sudo $install libtool
sudo $install libtool-bin
sudo $install libc6:i386
sudo $install libncurses5:i386
sudo $install libstdc++6:i386
sudo $install lib32z1
sudo $install libbz2-1.0:i386

# clang
sudo $install gcc # linter
sudo $install clang # completor (~/.clang_complete)
sudo $install clang-format # formatter (~/.clang-format)

# conda
curl -O https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh
bash Miniconda3-latest-Linux-x86_64.sh
rm Miniconda3-latest-Linux-x86_64.sh

# pip
pip install flake8 # linter (~/.config/flake8)
pip install jedi # completor
pip install yapf # formatter (~/.style.yapf)

# yarn
curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
sudo apt update -y

sudo $install yarn

yarn global add eslint # linter
yarn global add js-beautify # formatter
yarn global add tern # completor

# java
sudo $install openjdk-8-jdk

# vim
sudo add-apt-repository -y ppa:jonathonf/vim
sudo apt update -y 

sudo $install vim-gtk3

curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
      https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
vim +PlugInstall +qa

# completor.vim
cd ~/.vim/plugged/completor.vim

make js

cd ~

# lightline.vim
curl -s https://gist.githubusercontent.com/devinalvaro/960d13cbb66f4716099e0febd64b392b/raw/a36349052b9d9306762d35781b82064b8e03ddd4/One.vim > ~/.vim/plugged/lightline.vim/autoload/lightline/colorscheme/One.vim

# xsel
sudo $install xsel

# ranger
sudo $install ranger

# konsole
sudo $install konsole

# yakuake
sudo $install yakuake

# ripgrep
sudo add-apt-repository ppa:x4121/ripgrep
sudo apt update -y

sudo $install ripgrep

# drive
sudo add-apt-repository -y ppa:twodopeshaggy/drive
sudo apt update -y

sudo $install drive

# universal-ctags
git clone https://github.com/universal-ctags/ctags
cd ctags

./autogen.sh 
./configure
make
sudo make install

cd ..
rm -rf ctags

# tmux
git clone https://github.com/tmux/tmux
cd tmux

git checkout $(git describe --tags `git rev-list --tags --max-count=1`)

./autogen.sh
./configure
make
sudo make install

cd ..
rm -rf tmux

# zsh
sudo $install zsh

mkdir ~/.antigen
curl -L git.io/antigen > ~/.antigen/antigen.zsh

chsh -s $(which zsh)

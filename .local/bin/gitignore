#!/bin/bash

if [ -f .gitignore ]; then
    mv .gitignore .gitignore.old
else
    touch .gitignore
fi

> .gitignore
git status --porcelain | grep '^??' | cut -c4- >> .gitignore

if [ $PWD = ~ ]; then
    echo '.vim/fzf/' >> .gitignore
    echo '.vim/undo/' >> .gitignore
fi

sort -u .gitignore -o .gitignore

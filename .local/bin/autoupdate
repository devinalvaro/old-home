#!/bin/bash

# check if Sunday
if [ $(date +%u) -ne 7 ]; then
   echo "Today's not Sunday yet. Have a good day and be productive!"
   exit 1
fi

# package manager
if type "pacaur" > /dev/null 2>&1; then
   sudo pacaur -Syu
elif type "pacman" > /dev/null 2>&1; then
   sudo pacman -Syu
elif type "apt" > /dev/null 2>&1; then
   sudo apt update; sudo apt upgrade
fi

# zsh
upgrade_oh_my_zsh

# neovim
nvim -c 'PlugUpgrade' -c 'qa!'
nvim -c 'PlugUpdate' -c 'qa!'

# pip
pip freeze --local | grep -v '^\-e' | cut -d = -f 1  | xargs -n1 pip install -U

# npm
sudo npm update -g

# go
go get -u -v all

# calibre
sudo -v && wget -nv -O- https://download.calibre-ebook.com/linux-installer.py | sudo python -c "import sys; main=lambda:sys.stderr.write('Download failed\n'); exec(sys.stdin.read()); main()"

# papirus
wget -qO- https://raw.githubusercontent.com/PapirusDevelopmentTeam/papirus-icon-theme/master/install-papirus-home-kde.sh | sh

#!/bin/bash -v

# check if Sunday
if [ $(date +%u) -ne 7 ]; then
   echo "Today's not Sunday yet. Have a good day and be productive!"
   exit 1
fi

# package manager
if type "apt" > /dev/null 2>&1; then manager="apt";
elif type "dnf" > /dev/null 2>&1; then manager="dnf"; fi

# system
if [ $manager == "apt" ]; then sudo apt update -y && sudo apt upgrade -y;
elif [ $manager == "dnf" ]; then sudo dnf upgrade -y; fi

# conda
conda update -y --all

# pip
pip3 install --upgrade pip
pip3 freeze --local | grep -v '^\-e' | cut -d = -f 1  | xargs -n1 pip3 install -U

pip install --upgrade pip
pip freeze --local | grep -v '^\-e' | cut -d = -f 1  | xargs -n1 pip install -U

# yarn
yarn global upgrade

# vim
vim +PlugUpgrade +qa
vim +PlugUpdate +qa

# antigen
antigen update

# universal-ctags
git clone https://github.com/universal-ctags/ctags.git
cd ctags

./autogen.sh 
./configure
make
sudo make install

cd ..
rm -rf ctags

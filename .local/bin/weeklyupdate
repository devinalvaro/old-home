#!/bin/bash -v

# check if Sunday
if [ $(date +%u) -ne 7 ]; then
   echo "Today's not Sunday yet. Have a good day and be productive!"
   exit 1
fi

# system
sudo apt update -y
sudo apt upgrade -y

# zsh
upgrade_oh_my_zsh

# vim
vim -c 'PlugUpgrade' -c 'qa!'
vim -c 'PlugUpdate' -c 'qa!'

# pip
pip install --upgrade pip

pip freeze --local | grep -v '^\-e' | cut -d = -f 1  | xargs -n1 pip install --user -U

# tmux
git clone https://github.com/tmux/tmux
cd tmux

git checkout $(git describe --tags `git rev-list --tags --max-count=1`)

./autogen.sh
./configure
make
sudo make install

cd ..
rm -rf tmux

# universal-ctags
git clone https://github.com/universal-ctags/ctags.git
cd ctags

./autogen.sh 
./configure
make
sudo make install

cd ..
rm -rf ctags

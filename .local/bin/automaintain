#!/bin/bash -v

# variables
autoclean="trizen -Sc --noconfirm"
autoremove="trizen -Rns --noconfirm $(trizen -Qdtq)"
upgrade="trizen -Syu --needed --noconfirm --noedit"

# --------------------------------

# system
$upgrade

# pip
sudo pip freeze --local --all | grep -v '^\-e' | cut -d = -f 1  | xargs -n1 sudo pip install --upgrade
pip freeze --local --user | grep -v '^\-e' | cut -d = -f 1  | xargs -n1 pip install --upgrade

# yarn
yarn global upgrade

# vim
vim +PlugUpgrade +qa
vim +PlugUpdate +qa

# zsh
zsh -i -c 'antigen update'

# --------------------------------

# remove orphan packages
$autoremove

# clean package archives
$autoclean

# clean vim plugins
vim +PlugClean +qa

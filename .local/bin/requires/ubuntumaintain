#!/bin/bash -v

# variables
autoclean="sudo apt-get autoclean -y && sudo apt-get clean -y"
autoremove="sudo apt --purge autoremove -y"
upgrade="sudo apt update-y && sudo apt upgrade -y"

# functions
source ~/.local/bin/requires/build

# --------------------------------

# system
$upgrade

# pip
sudo pip3 freeze --local --all | grep -v '^\-e' | cut -d = -f 1  | xargs -n1 sudo pip3 install --upgrade
pip3 freeze --local --user | grep -v '^\-e' | cut -d = -f 1  | xargs -n1 pip3 install --upgrade

# yarn
yarn global upgrade

# vim
vim +PlugUpgrade +qa
vim +PlugUpdate +qa

# antigen
zsh -i -c 'antigen update'

# universal-ctags
build https://github.com/universal-ctags/ctags ctags

# --------------------------------

# remove orphan packages
$autoremove

# clean package archives
$autoclean

# remove terminal desktop files
sudo rm -f /usr/share/applications/nvim.desktop
sudo rm -f /usr/share/applications/vim.desktop

# clean vim plugins
vim +PlugClean +qa

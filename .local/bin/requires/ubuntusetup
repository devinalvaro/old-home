#!/bin/bash -v

# variables
add="sudo add-apt-repository -y"
install="sudo apt install -y"
update="sudo apt update -y"

# functions
source ~/.local/bin/requires/build

# essentials
$install autoconf
$install automake
$install curl
$install pkg-config

# --------------------------------

# clang
$install gcc # linter
$install clang # completor: ~/.clang_complete
$install clang-format # formatter: ~/.clang-format

# jdk
$install openjdk-8-jdk

# pip
$install python3-pip

sudo pip3 install neovim

pip3 install --user flake8 # linter: ~/.config/flake8
pip3 install --user jedi # completor
pip3 install --user yapf # formatter: ~/.style.yapf

# nodejs
curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -
$install nodejs

# yarn
curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
$update
$install yarn

yarn global add eslint eslint-config-airbnb # linter: ~/.eslintrc
yarn global add tern # completor: ~/.tern-config
yarn global add js-beautify prettier prettier-eslint-cli # formatter: ~/.jsbeautifyrc

# --------------------------------

# bfs
$install bfs

# ctags
build https://github.com/universal-ctags/ctags ctags

# drive
$add ppa:twodopeshaggy/drive && $update
$install drive

# ripgrep
$add ppa:x4121/ripgrep && $update
$install ripgrep

# tmux
$install tmux

# vim
$add ppa:jonathonf/vim && $update
$install vim

curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
      https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
vim +PlugInstall +qa

mkdir ~/.vim/undo

# xsel
$install xsel

# zsh
$install zsh

mkdir ~/.antigen
curl -L git.io/antigen > ~/.antigen/antigen.zsh

chsh -s $(which zsh)
